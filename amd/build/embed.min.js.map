{"version":3,"file":"embed.min.js","sources":["../src/embed.js"],"sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * Commands helper for the Moodle tiny_moldraw plugin.\n *\n * @module      tiny_moldraw/embed\n * @copyright   2024 Venkatesan Rangarajan <venkatesanrpu@gmail.com>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\nimport {get_string as getString} from 'core/str';\nimport * as ModalEvents from 'core/modal_events';\nimport Templates from 'core/templates';\nimport * as Modal from 'core/modal_factory';\nimport Config from 'core/config';\n\nexport const SketchEmbed = class {\n    editor = null;\n    canShowFilePicker = false;\n\n    /**\n     * @property {Object} The names of the alignment options.\n     */\n    helpStrings = null;\n\n    /**\n     * @property {boolean} Indicate that the user is updating the media or not.\n     */\n    isUpdating = false;\n\n    constructor(editor) {\n        this.editor = editor;\n    }\n\n    async displayDialogue() {\n        const modal = await Modal.create({\n            type: Modal.types.DEFAULT,\n            title: getString('sketchtitle', 'tiny_moldraw'),\n            body: Templates.render('tiny_moldraw/moldraw_iframe', {\n            src: `${Config.wwwroot}/lib/editor/tiny/plugins/moldraw/ketcher/sketch.html`\n            }),\n            show: true,\n            removeOnClose: true,\n        });\n\n        document.querySelector('.modal-dialog').style.cssText = \"max-width: unset;width:80%;height:80vh;margin:0;padding:0;\";\n        document.querySelector('.modal-content').style.cssText = \"max-height: unset;height:100vh;\";\n        document.querySelector('.modal-body').style.cssText = \"padding:0\";\n    }\n\n    getIframeURL = () => {\n        const url = new URL(`${Config.wwwroot}/lib/editor/tiny/plugins/moldraw/ketcher/sketch.html`);\n        return url.toString();\n    };\n};\n"],"names":["editor","canShowFilePicker","helpStrings","isUpdating","constructor","Modal","create","type","types","DEFAULT","title","body","Templates","render","src","Config","wwwroot","show","removeOnClose","document","querySelector","style","cssText","getIframeURL","URL","toString"],"mappings":";;;;;;;0RA8B2B,MACvBA,OAAS,KACTC,mBAAoB,EAKpBC,YAAc,KAKdC,YAAa,EAEbC,YAAYJ,aACHA,OAASA,qCAIMK,MAAMC,OAAO,CAC7BC,KAAMF,MAAMG,MAAMC,QAClBC,OAAO,mBAAU,cAAe,gBAChCC,KAAMC,mBAAUC,OAAO,8BAA+B,CACtDC,IAAM,GAAEC,gBAAOC,gEAEfC,MAAM,EACNC,eAAe,IAGnBC,SAASC,cAAc,iBAAiBC,MAAMC,QAAU,6DACxDH,SAASC,cAAc,kBAAkBC,MAAMC,QAAU,kCACzDH,SAASC,cAAc,eAAeC,MAAMC,QAAU,YAG1DC,aAAe,IACC,IAAIC,IAAK,GAAET,gBAAOC,+DACnBS"}